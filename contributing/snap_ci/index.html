<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Automated CI Tests - SecureDrop</title>
  

  <link rel="shortcut icon" href="../../img/favicon.ico">

  
  <link href='https://fonts.googleapis.com/css?family=Lato:400,700|Roboto+Slab:400,700|Inconsolata:400,700' rel='stylesheet' type='text/css'>

  <link rel="stylesheet" href="../../css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../../css/theme_extra.css" type="text/css" />
  <link rel="stylesheet" href="../../css/highlight.css">
  <link href="../../site/css/base.css" rel="stylesheet">
  <link href="../../site/css/bootstrap-custom.min.css" rel="stylesheet">
  <link href="../../site/css/extra.css" rel="stylesheet">
  <link href="../../site/css/font-awesome-4.0.3.css" rel="stylesheet">
  <link href="../../site/css/highlight.css" rel="stylesheet">
  <link href="../../css/extra.css" rel="stylesheet">

  
  <script>
    // Current page data
    var mkdocs_page_name = "Automated CI Tests";
  </script>
  
  <script src="../../js/jquery-2.1.1.min.js"></script>
  <script src="../../js/modernizr-2.8.3.min.js"></script>
  <script type="text/javascript" src="../../js/highlight.pack.js"></script>
  <script src="../../js/theme.js"></script> 
  <script src="../../site/js/base.js"></script>
  <script src="../../site/js/bootstrap-3.0.3.min.js"></script>
  <script src="../../site/js/highlight.pack.js"></script>
  <script src="../../site/js/jquery-1.10.2.min.js"></script>
  <script src="../../site/mkdocs/js/lunr-0.5.7.min.js"></script>
  <script src="../../site/mkdocs/js/mustache.min.js"></script>
  <script src="../../site/mkdocs/js/require.js"></script>
  <script src="../../site/mkdocs/js/search.js"></script>
  <script src="../../site/mkdocs/js/text.js"></script>

  
</head>

<body class="wy-body-for-nav" role="document">

  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side stickynav">
      <div class="wy-side-nav-search">
        <a href="../.." class="icon icon-home"> SecureDrop</a>
        <div role="search">
  <form id ="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
  </form>
</div>
      </div>

      <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
        <ul class="current">
          
            <li>
    <li class="toctree-l1 ">
        <a class="" href="../..">Home</a>
        
    </li>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Installation</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../installation/intro/">Getting started</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../installation/setup_tails_usb_sticks/">Set up Tails USB Sticks</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../installation/setup_svs/">Set up Secure Viewing Station</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../installation/setup_admin_workstation/">Set up Admin Workstation</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../installation/network_firewall/">Network Firewall</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../installation/ubuntu_config/">Server Config</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../installation/securedrop_app/">Install SecureDrop Application</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../installation/final_steps/">Finalizing the Installation</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Support</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../support/source_user_manual/">Source User Manual</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../support/journalist_user_manual/">Journalist User Manual</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../support/admin_interface/">Admin User Manual</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../support/tails_guide/">Using Tails</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../support/upgrade/">Upgrading SecureDrop</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../support/tails_printing_guide/">Printing with Tails</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../support/terminology/">Terminology</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../support/training_schedule/">Training Schedule</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Technical Information</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../technical_information/hardware/">Hardware Requirements</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../technical_information/deployment_practices/">Deployment Practices</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../technical_information/ossec_alerts/">OSSEC Alerts</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../technical_information/yubikey_setup/">Yubikey Setup</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../technical_information/threat_model/">Threat Model</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../../technical_information/google_authenticator/">Google Authenticator</a>
        
    </li>

        
    </ul>
<li>
          
            <li>
    <ul class="subnav">
    <li><span>Contributing</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../develop/">Development Environment</a>
        
    </li>

        
            
    <ul class="subnav">
    <li><span>Running the Tests</span></li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../spec_tests/">Serverspec Tests</a>
        
    </li>

        
            
    <li class="toctree-l1 current">
        <a class="current" href="./">Automated CI Tests</a>
        
            <ul>
            
                <li class="toctree-l3"><a href="#running-notes-on-setting-up-snap-ci-vagrant-digital-ocean-provider-ansible-provisioner">running notes on setting up snap-ci + vagrant + digital ocean provider + ansible provisioner</a></li>
                
            
                <li class="toctree-l3"><a href="#development">Development</a></li>
                
            
                <li class="toctree-l3"><a href="#app-staging">App-staging</a></li>
                
            
                <li class="toctree-l3"><a href="#mon-staging">mon-staging</a></li>
                
            
                <li class="toctree-l3"><a href="#in-snap-ci">In Snap-CI</a></li>
                
            
            </ul>
        
    </li>

        
    </ul>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../apparmor_profiles/">AppArmor Profiles</a>
        
    </li>

        
            
    <li class="toctree-l1 ">
        <a class="" href="../creating_deb/">Building .deb packages</a>
        
    </li>

        
    </ul>
<li>
          
        </ul>
      </div>
      &nbsp;
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
        <a href="../..">SecureDrop</a>
      </nav>

      
      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="breadcrumbs navigation">
  <ul class="wy-breadcrumbs">
    <li><a href="../..">Docs</a> &raquo;</li>
    
      
        
          <li>Running the Tests &raquo;</li>
        
      
    
    <li>Automated CI Tests</li>
    <li class="wy-breadcrumbs-aside">
      
    </li>
  </ul>
  <hr/>
</div>
          <div role="main">
            <div class="section">
              
                <h1 id="running-notes-on-setting-up-snap-ci-vagrant-digital-ocean-provider-ansible-provisioner">running notes on setting up snap-ci + vagrant + digital ocean provider + ansible provisioner</h1>
<p>To speed up testing times, prebuilt images that already contain the packages needed for each stage are used.
The prebuilt images are snapshots of the default VPS Ubuntu 14.04 x64 images with the stage specific deb packages installed.
After the stage specific packages are installed a snapshot is taken of the image with the stage name and date.</p>
<p>To test a clean install there is a manual gate to run the snap-ci tests without the prebuilt images</p>
<p>(This should be migrated to Packer)</p>
<h1 id="development">Development</h1>
<p>git clone https://github.com/freedomofpress/securedrop
sudo apt-get install gnupg2 haveged python python-pip secure-delete sqlite libssl-dev python-dev python-pip firefox xvfb redis-server
sudo pip install -r securedrop/requirements/securedrop-requirements.txt
sudo pip install -r securedrop/requirements/test-requirements.txt</p>
<h1 id="app-staging">App-staging</h1>
<p>git clone https://github.com/freedomofpress/securedrop
sudo apt-get install apache2-mpm-worker libapache2-mod-xsendfile libapache2-mod-wsgi apparmor-utils gnupg2 haveged python python-pip secure-delete sqlite libssl-dev python-dev python-pip firefox xvfb tar unzip inotify-tools libssl-dev redis-server
sudo pip install -r securedrop/requirements/securedrop-requirements.txt</p>
<h1 id="mon-staging">mon-staging</h1>
<h1 id="in-snap-ci">In Snap-CI</h1>
              
            </div>
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="../apparmor_profiles/" class="btn btn-neutral float-right" title="AppArmor Profiles"/>Next <span class="icon icon-circle-arrow-right"></span></a>
      
      
        <a href="../spec_tests/" class="btn btn-neutral" title="Serverspec Tests"><span class="icon icon-circle-arrow-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <!-- Copyright etc -->
    
  </div>

  Built with <a href="http://www.mkdocs.org">MkDocs</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>.
</footer>
	  
        </div>
      </div>

    </section>

  </div>

<div class="rst-versions" role="note" style="cursor: pointer">
    <span class="rst-current-version" data-toggle="rst-current-version">
      
      
        <span><a href="../spec_tests/" style="color: #fcfcfc;">&laquo; Previous</a></span>
      
      
        <span style="margin-left: 15px"><a href="../apparmor_profiles/" style="color: #fcfcfc">Next &raquo;</a></span>
      
    </span>
</div>

</body>
</html>
