<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        
        
        
        <link rel="shortcut icon" href="../img/favicon.ico">

	<title>Automated CI Tests - SecureDrop</title>

        <link href="../css/bootstrap-custom.min.css" rel="stylesheet">
        <link href="../css/font-awesome-4.0.3.css" rel="stylesheet">
        <link rel="stylesheet" href="../css/highlight.css">
        <link href="../css/base.css" rel="stylesheet">
        <link href="../css/extra.css" rel="stylesheet">

        <!-- HTML5 shim and Respond.js IE8 support of HTML5 elements and media queries -->
        <!--[if lt IE 9]>
            <script src="https://oss.maxcdn.com/libs/html5shiv/3.7.0/html5shiv.js"></script>
            <script src="https://oss.maxcdn.com/libs/respond.js/1.3.0/respond.min.js"></script>
        <![endif]-->

        
    </head>

    <body>

        <div class="navbar navbar-default navbar-fixed-top" role="navigation">
    <div class="container">

        <!-- Collapsed navigation -->
        <div class="navbar-header">
            <!-- Expander button -->
            <button type="button" class="navbar-toggle" data-toggle="collapse" data-target=".navbar-collapse">
                <span class="sr-only">Toggle navigation</span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
                <span class="icon-bar"></span>
            </button>

            <!-- Main title -->
            <a class="navbar-brand" href="..">SecureDrop</a>
        </div>

        <!-- Expanded navigation -->
        <div class="navbar-collapse collapse">
            <!-- Main navigation -->
            <ul class="nav navbar-nav">
            
            
                <li >
                    <a href="..">Home</a>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Installation <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../installation/install/">Installation Overview</a>
                        </li>
                    
                        <li >
                            <a href="../installation/hardware/">Hardware Requirements</a>
                        </li>
                    
                        <li >
                            <a href="../installation/deployment_practices/">Deployment Practices</a>
                        </li>
                    
                        <li >
                            <a href="../installation/ubuntu_config/">Server Config</a>
                        </li>
                    
                        <li >
                            <a href="../installation/network_firewall/">Network Firewall</a>
                        </li>
                    
                        <li >
                            <a href="../installation/ossec_alerts/">OSSEC Alerts</a>
                        </li>
                    
                        <li >
                            <a href="../installation/yubikey_setup/">Yubikey Setup</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Support <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../source_user_manual/">Source User Manual</a>
                        </li>
                    
                        <li >
                            <a href="../journalist_user_manual/">Journalist User Manual</a>
                        </li>
                    
                        <li >
                            <a href="../admin_interface/">Admin User Manual</a>
                        </li>
                    
                        <li >
                            <a href="../tails_guide/">Using Tails</a>
                        </li>
                    
                        <li >
                            <a href="../google_authenticator/">Google Authenticator</a>
                        </li>
                    
                        <li >
                            <a href="">Upgrading SecureDrop</a>
                        </li>
                    
                        <li >
                            <a href="../tails_printing_guide/">Printing with Tails</a>
                        </li>
                    
                        <li >
                            <a href="../terminology/">Terminology</a>
                        </li>
                    
                        <li >
                            <a href="../threat_model/">Threat Model</a>
                        </li>
                    
                        <li >
                            <a href="../training_schedule/">Training Schedule</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            
                <li class="dropdown active">
                    <a href="#" class="dropdown-toggle" data-toggle="dropdown">Contributing <b class="caret"></b></a>
                    <ul class="dropdown-menu">
                    
                        <li >
                            <a href="../develop/">Development Environment</a>
                        </li>
                    
                        <li class="active">
                            <a href="">Running the Tests</a>
                        </li>
                    
                        <li >
                            <a href="../apparmor_profiles/">AppArmor Profiles</a>
                        </li>
                    
                        <li >
                            <a href="../creating_deb/">Building .deb packages</a>
                        </li>
                    
                    </ul>
                </li>
            
            
            </ul>

            <!-- Search, Navigation and Repo links -->
            <ul class="nav navbar-nav navbar-right">
                <li >
                    <a rel="next" href="../spec_tests/">
                        <i class="fa fa-arrow-left"></i> Previous
                    </a>
                </li>
                <li >
                    <a rel="prev" href="../apparmor_profiles/">
                        Next <i class="fa fa-arrow-right"></i>
                    </a>
                </li>
                
            </ul>
        </div>
    </div>
</div>

        <div class="container">
            <div class="col-md-3"><div class="bs-sidebar hidden-print affix well" role="complementary">
    <ul class="nav bs-sidenav">
    
        <li class="main active"><a href="#running-notes-on-setting-up-snap-ci-vagrant-digital-ocean-provider-ansible-provisioner">running notes on setting up snap-ci + vagrant + digital ocean provider + ansible provisioner</a></li>
        
    
        <li class="main "><a href="#development">Development</a></li>
        
    
        <li class="main "><a href="#app-staging">App-staging</a></li>
        
    
        <li class="main "><a href="#mon-staging">mon-staging</a></li>
        
    
        <li class="main "><a href="#in-snap-ci">In Snap-CI</a></li>
        
    
    </ul>
</div></div>
            <div class="col-md-9" role="main">

<h1 id="running-notes-on-setting-up-snap-ci-vagrant-digital-ocean-provider-ansible-provisioner">running notes on setting up snap-ci + vagrant + digital ocean provider + ansible provisioner</h1>
<p>To speed up testing times, prebuilt images that already contain the packages needed for each stage are used.
The prebuilt images are snapshots of the default VPS Ubuntu 14.04 x64 images with the stage specific deb packages installed.
After the stage specific packages are installed a snapshot is taken of the image with the stage name and date.</p>
<p>To test a clean install there is a manual gate to run the snap-ci tests without the prebuilt images</p>
<p>(This should be migrated to Packer)</p>
<h1 id="development">Development</h1>
<p>git clone https://github.com/freedomofpress/securedrop
sudo apt-get install gnupg2 haveged python python-pip secure-delete sqlite libssl-dev python-dev python-pip firefox xvfb redis-server
sudo pip install -r securedrop/requirements/securedrop-requirements.txt
sudo pip install -r securedrop/requirements/test-requirements.txt</p>
<h1 id="app-staging">App-staging</h1>
<p>git clone https://github.com/freedomofpress/securedrop
sudo apt-get install apache2-mpm-worker libapache2-mod-xsendfile libapache2-mod-wsgi apparmor-utils gnupg2 haveged python python-pip secure-delete sqlite libssl-dev python-dev python-pip firefox xvfb tar unzip inotify-tools libssl-dev redis-server
sudo pip install -r securedrop/requirements/securedrop-requirements.txt</p>
<h1 id="mon-staging">mon-staging</h1>
<h1 id="in-snap-ci">In Snap-CI</h1></div>
        </div>

        <footer class="col-md-12">
            <hr>
            
            <center>Documentation built with <a href="http://www.mkdocs.org/">MkDocs</a>.</center>
        </footer>

        <script src="../js/jquery-1.10.2.min.js"></script>
        <script src="../js/bootstrap-3.0.3.min.js"></script>
        <script src="../js/highlight.pack.js"></script>
        <script src="../js/base.js"></script>
    </body>
</html>